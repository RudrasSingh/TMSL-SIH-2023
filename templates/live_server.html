<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="stylesheet" href="/static/css/live_server.css">
    <link rel="stylesheet" href="live.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Live Chat</title>
</head>
<body>
    
    <main class="content">
        <div class="container p-0">
            <div class="card">
                <div class="row g-0">
                    <div class="col-12 col-lg-5 col-xl-3 border-right">
                    </div>
                    <div class="col-12 col-lg-7 col-xl-9">
                        <div class="py-2 px-4 border-bottom d-none d-lg-block">
                            <div class="d-flex align-items-center py-1">
                                <div class="position-relative">
                                    <img src="https://bootdey.com/img/Content/avatar/avatar7.png" class="rounded-circle mr-1" alt="Sharon Lessman" width="40" height="40">
                                </div>
                                <div class="flex-grow-1 pl-3">
                                    <strong>Sharon Lessman</strong>
                                    <div class="text-muted small"><em>Typing...</em></div>
                                </div>
                            </div>
                        </div>

                        <div class="position-relative">
                            <div class="chat-messages p-4">

                                <!-- Your existing chat messages -->

                            </div>
                        </div>

                        <div class="flex-grow-0 py-3 px-4 border-top">
                            <div class="input-group">
                                <input type="text" class="form-control" id="messageInput" placeholder="Type your message">
                                <button class="btn btn-primary" type="button" onclick="sendMessage()">Send</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js" integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js" integrity="sha384-BBtl+eGJRgqQAUMxJ7pMwbEyER4l1g+O15P+16Ep7Q9Q+zqX6gSbd85u4mG4QzX+" crossorigin="anonymous"></script>
   

 <!--   <script>
        const socket = io.connect('http://' + document.domain + ':' + location.port);

        function sendMessage() {
            const messageInput = document.getElementById('messageInput');
            const recipient = 'RecipientUsername'; // Replace with the actual recipient's username

            if (messageInput.value.trim() !== '') {
                const data = {
                    sender: 'You', // You might replace this with the actual username of the sender
                    recipient: recipient,
                    content: messageInput.value,
                };

                // Send the message to the server
                socket.emit('send_message', data);

                // Display the message on the sender's side immediately
                displayMessage(data);

                // Clear the input field
                messageInput.value = '';
            }
        }

        function displayMessage(data) {
            const chatMessages = document.querySelector('.chat-messages');
            const messageElement = document.createElement('div');
            messageElement.className = 'chat-message-right mb-4';
            messageElement.innerHTML = `
                <div>
                    <div class="text-muted small text-nowrap mt-2">${getCurrentTime()}</div>
                </div>
                <div class="flex-shrink-1 bg-light rounded py-2 px-3 mr-3">
                    <div class="font-weight-bold mb-1">${data.sender}</div>
                    ${data.content}
                </div>
            `;
            chatMessages.appendChild(messageElement);
        }

        function getCurrentTime() {
            const now = new Date();
            const hours = now.getHours();
            const minutes = now.getMinutes();
            return `${hours}:${minutes}`;
        }

        // Listen for incoming messages
        socket.on('receive_message', (data) => {
            // Display the received message on the recipient's side
            displayMessage(data);
        });
    </script> -->
    
</body>
</html>
